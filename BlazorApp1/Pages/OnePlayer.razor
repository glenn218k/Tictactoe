@page "/"
@page "/oneplayer"
@using BlazorApp1.Enums
@using BlazorApp1.Models

<style>
    .board {
        background-color: white;
        display: flex;
        flex-direction: row;
        max-width: 490px;
    }

    .column {
        min-width: 60px;
        min-height: 60px;
        height: 100%;
    }

    .gamepiece {
        border: solid 1px black;
        min-height: 60px;
        min-width: 60px;
        background-repeat: no-repeat;
        text-align: center;
        font-size: 38px;
    }
</style>

<PageTitle>One Player Tic Tac Toe</PageTitle>

@if (!board.IsGameComplete)
{
    <h2>@board.CurrentTurn.Name's (@board.CurrentTurn.Icon) Turn!</h2>
}
else
{
    <h2>@board.GetGameCompleteMessage()
        <button class="btn btn-success" style="height:34px" @onclick="@(() => board.Reset())">Reset</button>
    </h2>
}

<div class="board">
    @for (int i = 0; i < 3; i++)
    {
        <div class="column">
            @for (int j = 0; j < 3; j++)
            {
                int x = i;
                int y = j;
                <div class="gamepiece" style="color:@(board.GetColor(board.Board[i, j].Style))" @onclick="@(() => board.PieceClicked(x, y))">
                    @(board.GetIcon(board.Board[i, j].Style))
                </div>
            }
        </div>
    }
</div>

@code {
    OnePlayerGameBoard board = new OnePlayerGameBoard();
}